(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,t,a){e.exports=a(245)},121:function(e,t,a){},122:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),s=a.n(o),c=a(7),i=a(6),m=a(107),p=a(8),l=a(9),u=a(11),d=a(10),h=a(12),f=(a(121),a(24)),b=a(29),y=(a(122),a(22)),v=a.n(y),E=a(108),O=a.n(E).a.create({baseURL:"https://young-ocean-79520.herokuapp.com/"}),T=function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(O.get("/"));case 2:t=a.sent,e({type:"FETCH_TODAY",payload:t.data});case 4:case"end":return a.stop()}}))}},j=function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(O.get("/sensor"));case 2:t=a.sent,console.log(t),e({type:"FETCH_NAME",payload:t.data});case 5:case"end":return a.stop()}}))}},x=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onFetchClick=function(){a.props.fetchToday()},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"ui center aligned icon header",style:{marginTop:"5px"}},r.a.createElement("i",{className:"chart line icon"}),"\u017bAKA MONITOR"),r.a.createElement("div",{className:"button-margins"},r.a.createElement("button",{onClick:this.onFetchClick,className:"ui teal button"},"Od\u015bwie\u017c")))}}]),t}(r.a.Component),N=Object(c.b)(null,{fetchToday:T})(x),g=(a(141),function(e){function t(){return Object(p.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("SENSOR".concat(this.props.title)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"item-box item",style:{marginBottom:"0px"}},r.a.createElement("div",{className:"content"},this.props.title,": ",this.props.data)))}}]),t}(r.a.Component)),k=Object(c.b)(null)(g),w=(a(142),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderMaxTemp=function(){return a.props.maxTemp?{maxTemp:a.props.maxTemp.maxTemp,time:a.props.maxTemp.time}:"Loding..."},a.renderMinTemp=function(){return a.props.minTemp?{minTemp:a.props.minTemp.minTemp,time:a.props.minTemp.time}:"Loding..."},a.dotColor=function(){return"1"===a.props.id?"yellow":"2"===a.props.id?"blue":void 0},a.onSettingClick=function(){a.props.history.push("/settings")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.props.data)var e=this.props.data,t=e.temp,a=e.time,n=e.hum;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"right floated mini ui header"},r.a.createElement("span",{className:"temp-header"},"".concat(t," \u2103"))),r.a.createElement("div",{className:"header"},this.props.name),r.a.createElement("div",{className:"meta"},"ID czujnika: ",this.props.id),r.a.createElement("div",{className:"description"},"Wilgotno\u015b\u0107: ","".concat(n,"%")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"max-data"},"Max: ","".concat(this.renderMaxTemp().maxTemp," \u2103"),r.a.createElement("span",{className:"time"},"o godz: ","".concat(this.renderMaxTemp().time)," "),r.a.createElement("br",null)),r.a.createElement("span",{className:"min-data"},"Min: ","".concat(this.renderMinTemp().minTemp," \u2103"),r.a.createElement("span",{className:"time"},"o godz: ","".concat(this.renderMinTemp().time)," "),r.a.createElement("br",null)),"Czas: ","".concat(a)," ",r.a.createElement("br",null)),r.a.createElement("div",{className:"extra content"},r.a.createElement("div",{className:"right floated top-margin"},r.a.createElement(f.b,{to:"/chart/temp/".concat(this.props.id),className:"ui purple button"},"Wykres")),r.a.createElement("div",{onClick:this.onSettingClick,className:"left floated"},r.a.createElement("div",{className:"dot-".concat(this.dotColor())})))))}}]),t}(r.a.Component)),C=Object(c.b)((function(e){return{names:e.names}}),{fetchName:j})(w),D=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderData=function(){if(a.props.maxTemp){var e=a.props,t=e.sensor01,n=e.sensor02;return{tempA:t[t.length-1],tempB:n[n.length-1],maxTemp01:a.props.maxTemp.sensor01,maxTemp02:a.props.maxTemp.sensor02,minTemp01:a.props.minTemp.sensor01,minTemp02:a.props.minTemp.sensor02}}return"Loading"},a.renderSensor=function(){a.props.sensor01.map((function(e){return r.a.createElement(k,{data:a.renderData()})}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchToday(),this.props.fetchName()}},{key:"renderNames",value:function(){return this.props.names.a?{name1:this.props.names.a.name,name2:this.props.names.b.name}:"Loading..."}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui cards"},r.a.createElement(C,{data:this.renderData().tempA,maxTemp:this.renderData().maxTemp01,minTemp:this.renderData().minTemp01,title:"Sensor A",id:"1",history:this.props.history,name:this.renderNames().name1}),r.a.createElement(C,{data:this.renderData().tempB,maxTemp:this.renderData().maxTemp02,minTemp:this.renderData().minTemp02,title:"Sensor B",id:"2",history:this.props.history,name:this.renderNames().name2}))}}]),t}(r.a.Component),A=Object(c.b)((function(e){return e.data.today?{sensor01:e.data.today.sensor01,sensor02:e.data.today.sensor02,maxTemp:e.data.today.maxTemp,minTemp:e.data.today.minTemp,names:e.names}:{names:e.names}}),{fetchToday:T,fetchName:j})(D),S=(a(144),a(145),a(146),a(41)),F=a.n(S),I=function(e){function t(){return Object(p.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e={labels:this.props.time,series:[this.props.temp]};new F.a.Line(".ct-chart",e,{showArea:!1,showPoint:!1,onlyInteger:!1,lineSmooth:F.a.Interpolation.monotoneCubic({fillHoles:!1}),axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}},axisY:{offset:60}},[["screen and (max-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%30===0?e:null}}}],["screen and (min-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%15===0?e:null}}}],["screen and (min-width: 600px)",{axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}}}]])}},{key:"componentDidUpdate",value:function(){var e={labels:this.props.time,series:[this.props.temp]};new F.a.Line(".ct-chart",e,{showArea:!1,showPoint:!1,onlyInteger:!1,lineSmooth:F.a.Interpolation.monotoneCubic({fillHoles:!1}),axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}},axisY:{offset:60}},[["screen and (max-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%30===0?e:null}}}],["screen and (min-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%15===0?e:null}}}],["screen and (min-width: 600px)",{axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}}}]])}},{key:"render",value:function(){return r.a.createElement("div",{id:"chart1",className:"ct-chart .ct-golden-section "})}}]),t}(r.a.Component),M=function(e){return console.log(e),s.a.createPortal(r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},"Wykres - ostatnie 24h"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"chart-title"},r.a.createElement("h4",null,"temp"===e.type?"Temperatura w \u2103":"Wilgotno\u015b\u0107 w %")),r.a.createElement(I,{temp:e.yData,time:e.xData})),r.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))},_=a(75),z=function(e,t,a){if(console.log(e),e){var n=e[e.length-1].time,r=t.filter((function(e){return e.time>n}));return{dataTemp:(r=[].concat(Object(_.a)(r),Object(_.a)(e))).map((function(e){return e[a]})),dataTime:r.map((function(e){return e.time}))}}},X=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).prepareTempToChart=function(){if(a.props.today)if("/chart/temp/:id"===a.props.match.path){if("1"===a.props.match.params.id)return console.log("Hello from preapareTemp"),z(a.props.today.sensor01,a.props.yesterday.sensor01,"temp");if("2"===a.props.match.params.id)return z(a.props.today.sensor02,a.props.yesterday.sensor02,"temp")}else if("/chart/hum/:id"===a.props.match.path){if("1"===a.props.match.params.id)return console.log("Hello from preapareHum"),z(a.props.today.sensor01,a.props.yesterday.sensor01,"hum");if("2"===a.props.match.params.id)return z(a.props.today.sensor02,a.props.yesterday.sensor02,"hum")}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderActions",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/chart/temp/".concat(this.props.match.params.id),className:"ui purple button"},"Temperatura"),r.a.createElement(f.b,{to:"/chart/hum/".concat(this.props.match.params.id),className:"ui purple button"},"Wilgotno\u015b\u0107"))}},{key:"render",value:function(){var e=this;return this.props.today?r.a.createElement(M,{xData:this.prepareTempToChart().dataTime,yData:this.prepareTempToChart().dataTemp,type:"/chart/temp/:id"===this.props.match.path?"temp":"hum",actions:this.renderActions(),onDismiss:function(){return e.props.history.push("/")}}):r.a.createElement(M,{xData:null,yData:null,type:"/chart/temp/:id"===this.props.match.path?"temp":"hum",actions:this.renderActions(),onDismiss:function(){return e.props.history.push("/")}})}}]),t}(r.a.Component),H=Object(c.b)((function(e){return{today:e.data.today,yesterday:e.data.yesterday}}),{fetchToday:T})(X),P=a(247),L=a(246),W=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,v.a.awrap(a.props.postName(e));case 3:a.props.history.push("/");case 4:case"end":return t.stop()}}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input,a=e.label;return r.a.createElement("div",{className:"field"},r.a.createElement("label",null,a),r.a.createElement("input",t))}},{key:"render",value:function(){return s.a.createPortal(r.a.createElement("div",{onClick:this.props.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},"Zmie\u0144 nazw\u0119 czujnika"),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form"},r.a.createElement(P.a,{name:"name1",component:this.renderInput,label:"Nazwa czujnika 1:"}),r.a.createElement(P.a,{name:"name2",component:this.renderInput,label:"Nazwa czujnika 2:"}),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"ui black button"},"Zapisz")))))),document.querySelector("#modal"))}}]),t}(r.a.Component),B=Object(L.a)({form:"sensorsNames"})(Object(c.b)(null,{postName:function(e){return function(t){var a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(O.post("/sensor",e));case 2:a=n.sent,console.log(a),t({type:"POST_NAME",payload:a.data});case 5:case"end":return n.stop()}}))}}})(W)),R=function(e){function t(){return Object(p.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderActions",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/",onClick:this.props.onSubmit,className:"ui black button"},"Zapisz"))}},{key:"render",value:function(){var e=this;return r.a.createElement(B,{actions:this.renderActions(),onDismiss:function(){return e.props.history.push("/")},history:this.props.history})}}]),t}(r.a.Component),Y=function(e){function t(){return Object(p.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchToday()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(f.a,null,r.a.createElement(b.a,{path:"/",exact:!0,component:A}),r.a.createElement(b.a,{path:"/chart/temp/:id",exact:!0,component:H}),r.a.createElement(b.a,{path:"/chart/hum/:id",exact:!0,component:H}),r.a.createElement(b.a,{path:"/settings",exact:!0,component:R})))}}]),t}(r.a.Component),q=Object(c.b)((function(e){return{sensor01:e.data.sensor01}}),{fetchToday:T})(Y),U=a(248),Z=a(40),J=Object(i.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODAY":return Object(Z.a)({},e,{},t.payload);default:return e}},form:U.a,names:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NAME":case"POST_NAME":return Object(Z.a)({},e,{},t.payload);default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,V=Object(i.e)(J,K(Object(i.a)(m.a)));s.a.render(r.a.createElement(c.a,{store:V},r.a.createElement(q,null)),document.querySelector("#root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.f6d38fea.chunk.js.map