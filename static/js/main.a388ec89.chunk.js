(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){e.exports=n(244)},120:function(e,t,n){},121:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),s=n.n(o),c=n(7),i=n(6),p=n(106),m=n(8),l=n(9),u=n(11),h=n(10),d=n(12),f=(n(120),n(24)),b=n(29),v=(n(121),n(22)),E=n.n(v),y=n(107),T=n.n(y).a.create({baseURL:"http://localhost:8000"}),O=function(){return function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(T.get("/"));case 2:t=n.sent,e({type:"FETCH_TODAY",payload:t.data});case 4:case"end":return n.stop()}}))}},g=function(){return function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(T.get("/sensor"));case 2:t=n.sent,console.log(t),e({type:"FETCH_NAME",payload:t.data});case 5:case"end":return n.stop()}}))}},j=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onFetchClick=function(){n.props.fetchToday()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"ui center aligned icon header",style:{marginTop:"5px"}},r.a.createElement("i",{className:"chart line icon"}),"\u017bAKA MONITOR"),r.a.createElement("div",{className:"button-margins"},r.a.createElement("button",{onClick:this.onFetchClick,className:"ui teal button"},"Od\u015bwie\u017c")))}}]),t}(r.a.Component),x=Object(c.b)(null,{fetchToday:O})(j),N=(n(140),function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("SENSOR".concat(this.props.title)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"item-box item",style:{marginBottom:"0px"}},r.a.createElement("div",{className:"content"},this.props.title,": ",this.props.data)))}}]),t}(r.a.Component)),k=Object(c.b)(null)(N),w=(n(141),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderMaxTemp=function(){if(n.props.maxTemp){var e=n.props.maxTemp.maxTemp,t=n.props.maxTemp.time;return console.log(n.props.maxTemp.maxTemp),{maxTemp:e,time:t}}return"Loding..."},n.renderMinTemp=function(){if(n.props.minTemp){var e=n.props.minTemp.minTemp,t=n.props.minTemp.time;return console.log(n.props.minTemp.minTemp),{minTemp:e,time:t}}return"Loding..."},n.dotColor=function(){return"1"===n.props.id?"yellow":"2"===n.props.id?"blue":void 0},n.onSettingClick=function(){console.log(n.props),n.props.history.push("/settings")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(this.props.data)var e=this.props.data,t=e.temp,n=e.time,a=e.hum;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"right floated mini ui header"},r.a.createElement("span",{className:"temp-header"},"".concat(t," \u2103"))),r.a.createElement("div",{className:"header"},this.props.name),r.a.createElement("div",{className:"meta"},"ID czujnika: ",this.props.id),r.a.createElement("div",{className:"description"},"Wilgotno\u015b\u0107: ","".concat(a,"%")," ",r.a.createElement("br",null),r.a.createElement("span",{className:"max-data"},"Max: ","".concat(this.renderMaxTemp().maxTemp," \u2103"),r.a.createElement("span",{className:"time"},"o godz: ","".concat(this.renderMaxTemp().time)," "),r.a.createElement("br",null)),r.a.createElement("span",{className:"min-data"},"Min: ","".concat(this.renderMinTemp().minTemp," \u2103"),r.a.createElement("span",{className:"time"},"o godz: ","".concat(this.renderMinTemp().time)," "),r.a.createElement("br",null)),"Czas: ","".concat(n)," ",r.a.createElement("br",null)),r.a.createElement("div",{className:"extra content"},r.a.createElement("div",{className:"right floated top-margin"},r.a.createElement(f.b,{to:"/chart/temp/".concat(this.props.id),className:"ui purple button"},"Wykres")),r.a.createElement("div",{onClick:this.onSettingClick,className:"left floated"},r.a.createElement("div",{className:"dot-".concat(this.dotColor())})))))}}]),t}(r.a.Component)),C=Object(c.b)((function(e){return{names:e.names}}),{fetchName:g})(w),D=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).renderData=function(){if(n.props.maxTemp){var e=n.props,t=e.sensor01,a=e.sensor02,r=t[t.length-1],o=a[a.length-1],s=n.props.maxTemp.sensor01,c=n.props.maxTemp.sensor02,i=n.props.minTemp.sensor01,p=n.props.minTemp.sensor02;return console.log(s),console.log(o),{tempA:r,tempB:o,maxTemp01:s,maxTemp02:c,minTemp01:i,minTemp02:p}}return"Loading"},n.renderSensor=function(){n.props.sensor01.map((function(e){return r.a.createElement(k,{data:n.renderData()})}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchToday(),this.props.fetchName()}},{key:"renderNames",value:function(){return console.log(this.props.names),this.props.names.a?(console.log(this.props.names),{name1:this.props.names.a.name,name2:this.props.names.b.name}):(console.log(this.props.names),"Loading...")}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"ui cards"},r.a.createElement(C,{data:this.renderData().tempA,maxTemp:this.renderData().maxTemp01,minTemp:this.renderData().minTemp01,title:"Sensor A",id:"1",history:this.props.history,name:this.renderNames().name1}),r.a.createElement(C,{data:this.renderData().tempB,maxTemp:this.renderData().maxTemp02,minTemp:this.renderData().minTemp02,title:"Sensor B",id:"2",history:this.props.history,name:this.renderNames().name2}))}}]),t}(r.a.Component),A=Object(c.b)((function(e){return console.log(e),{sensor01:e.data.sensor01,sensor02:e.data.sensor02,maxTemp:e.data.maxTemp,minTemp:e.data.minTemp,names:e.names}}),{fetchToday:O,fetchName:g})(D),S=(n(143),n(41)),F=n.n(S),I=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.time),console.log(this.props.temp);var e={labels:this.props.time,series:[this.props.temp]};new F.a.Line(".ct-chart",e,{showArea:!1,showPoint:!1,onlyInteger:!1,lineSmooth:F.a.Interpolation.monotoneCubic({fillHoles:!1}),axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}},axisY:{offset:60}},[["screen and (max-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%25===0?e:null}}}],["screen and (min-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%15===0?e:null}}}],["screen and (min-width: 600px)",{axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}}}]])}},{key:"componentDidUpdate",value:function(){console.log(this.props.time),console.log(this.props.temp);var e={labels:this.props.time,series:[this.props.temp]};new F.a.Line(".ct-chart",e,{showArea:!1,showPoint:!1,onlyInteger:!1,lineSmooth:F.a.Interpolation.monotoneCubic({fillHoles:!1}),axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}},axisY:{offset:60}},[["screen and (max-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%25===0?e:null}}}],["screen and (min-width: 300px)",{axisX:{labelInterpolationFnc:function(e,t){return t%15===0?e:null}}}],["screen and (min-width: 600px)",{axisX:{labelInterpolationFnc:function(e,t){return t%10===0?e:null}}}]])}},{key:"render",value:function(){return r.a.createElement("div",{id:"chart1",className:"ct-chart .ct-golden-section "})}}]),t}(r.a.Component),M=n(17),_=Object(M.a)(),z=(n(144),n(145),function(e){return console.log(e),s.a.createPortal(r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},"Wykres"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"chart-title"},r.a.createElement("h4",null,"temp"===e.type?"Temperatura w \u2103":"Wilgotno\u015b\u0107 w %")),r.a.createElement(I,{temp:e.yData,time:e.xData})),r.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))}),X=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).prepareTempToChart=function(){if(n.props.sensor01)if("/chart/temp/:id"===n.props.match.path){if("1"===n.props.match.params.id)return console.log("Hello from preapareTemp"),n.props.sensor01.map((function(e){return e.temp}));if("2"===n.props.match.params.id)return n.props.sensor02.map((function(e){return e.temp}))}else if("/chart/hum/:id"===n.props.match.path){if("1"===n.props.match.params.id)return console.log("Hello from preapareHum"),n.props.sensor01.map((function(e){return e.hum}));if("2"===n.props.match.params.id)return n.props.sensor02.map((function(e){return e.hum}))}},n.prepareTimeToChart=function(){if(n.props.sensor01){if("1"===n.props.match.params.id)return n.props.sensor01.map((function(e){return e.time}));if("2"===n.props.match.params.id)return n.props.sensor02.map((function(e){return e.time}))}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderActions",value:function(){this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/chart/temp/".concat(this.props.match.params.id),className:"ui purple button"},"Temperatura"),r.a.createElement(f.b,{to:"/chart/hum/".concat(this.props.match.params.id),className:"ui purple button"},"Wilgotno\u015b\u0107"))}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(z,{xData:this.prepareTimeToChart(),yData:this.prepareTempToChart(),type:"/chart/temp/:id"===this.props.match.path?"temp":"hum",actions:this.renderActions(),onDismiss:function(){return e.props.history.push("/")}})}}]),t}(r.a.Component),H=Object(c.b)((function(e){return{sensor01:e.data.sensor01,sensor02:e.data.sensor02}}),{fetchToday:O})(X),P=n(246),L=n(245),W=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,E.a.awrap(n.props.postName(e));case 3:n.props.history.push("/");case 4:case"end":return t.stop()}}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=e.input,n=e.label;return r.a.createElement("div",{className:"field"},r.a.createElement("label",null,n),r.a.createElement("input",t))}},{key:"render",value:function(){return s.a.createPortal(r.a.createElement("div",{onClick:this.props.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},"Zmie\u0144 nazw\u0119 czujnika"),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form"},r.a.createElement(P.a,{name:"name1",component:this.renderInput,label:"Nazwa czujnika 1:"}),r.a.createElement(P.a,{name:"name2",component:this.renderInput,label:"Nazwa czujnika 2:"}),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"ui black button"},"Zapisz")))))),document.querySelector("#modal"))}}]),t}(r.a.Component),B=Object(L.a)({form:"sensorsNames"})(Object(c.b)(null,{postName:function(e){return function(t){var n;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(T.post("/sensor",e));case 2:n=a.sent,console.log(n),t({type:"POST_NAME",payload:n.data});case 5:case"end":return a.stop()}}))}}})(W)),R=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderActions",value:function(){this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/",onClick:this.props.onSubmit,className:"ui black button"},"Zapisz"))}},{key:"render",value:function(){var e=this;return r.a.createElement(B,{actions:this.renderActions(),onDismiss:function(){return e.props.history.push("/")},history:this.props.history})}}]),t}(r.a.Component),Y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).prepareTempToChart=function(){if(n.props.sensor01){var e=n.props.sensor01.map((function(e){return e.temp}));n.props.sensor01.map((function(e){return e.time}));return console.log(e),e}},n.prepareTimeToChart=function(){if(n.props.sensor01)return n.props.sensor01.map((function(e){return e.time}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchToday()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(f.a,{history:_},r.a.createElement(b.a,{path:"/",exact:!0,component:A}),r.a.createElement(b.a,{path:"/chart/temp/:id",exact:!0,component:H}),r.a.createElement(b.a,{path:"/chart/hum/:id",exact:!0,component:H}),r.a.createElement(b.a,{path:"/settings",exact:!0,component:R})))}}]),t}(r.a.Component),q=Object(c.b)((function(e){return{sensor01:e.data.sensor01}}),{fetchToday:O})(Y),U=n(247),Z=n(40),J=Object(i.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODAY":return Object(Z.a)({},e,{},t.payload);default:return e}},form:U.a,names:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NAME":case"POST_NAME":return Object(Z.a)({},e,{},t.payload);default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,V=Object(i.e)(J,K(Object(i.a)(p.a)));s.a.render(r.a.createElement(c.a,{store:V},r.a.createElement(q,null)),document.querySelector("#root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.a388ec89.chunk.js.map